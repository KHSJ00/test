{% extends 'smoking/cpcd_base.html' %}
{% block content %}

<style>
.btn-toolbar {
  width:100%;
  height:100%;
}
    .dropdown-menu {
        max-height: 400px;
        overflow: hidden;
        overflow-y: auto;
    }
    div#map {margin:0px auto}

</style>

<br/><br/><br/>
<div class="btn-toolbar" role="toolbar" aria-label="Toolbar with button groups">
  <div class="btn-group mr-2" role="group" aria-label="First group">
    <button type="button" class="btn btn-link" style="background-color:gray;color:white" onclick="location.href='/cp_cd'">단속</button>
    <button type="button" class="btn btn-link" style="background-color:orange;color:white" onclick="location.href='/complaint_crackdown'">민원</button>
  </div>
</div>

<br/><br/>
<div class="container0">
<!--    <form class="form-inline my-2 my-lg-0" style="float:center;">-->
<!--      <input class="form-control mr-sm-2" type="search" placeholder="자치구명을 입력하세요" aria-label="Search">-->
<!--      <button class="btn btn-outline-success my-2 my-sm-0" type="submit">검색</button>-->
<!--    </form>-->
    <div class = "dropdown">
        <button class = "btn btn-secondary dropdown-toggle" data-toggle="dropdown">2019</button>
        <div class="dropdown-menu">
            <a class="dropdown-item" href="{% url 'smoking:complaint_crackdown_2016' %}">2016</a>
                <div class="dropdown-divider"></div> <!-- 구분선 -->
            <a class="dropdown-item" href="{% url 'smoking:complaint_crackdown_2017' %}">2017</a>
                <div class="dropdown-divider"></div> <!-- 구분선 -->
            <a class="dropdown-item" href="{% url 'smoking:complaint_crackdown_2018' %}">2018</a>
                <div class="dropdown-divider"></div> <!-- 구분선 -->
            <a class="dropdown-item" href="{% url 'smoking:complaint_crackdown_2020' %}">2020</a>
        </div>
    </div>
</div>
<br/><br/><br/>
{#2017 자치구별 흡연 민원 건수#}

<div id="container">
  <script src="https://code.highcharts.com/stock/highstock.js"></script>
  <script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
  <script>
        // Create the chart
        Highcharts.chart('container', {
            chart: {
                type: 'column'
            },
            title: {
                text: '2019 자치구별 흡연 민원 건수'
            },
            subtitle: {
                text: '모든 정보는 <a href="https://www.open.go.kr/com/main/mainView.do" style="color: blue">정보 공개 포털</a>의 자료를 기반으로 작성되었습니다.'
            },
            accessibility: {
                announceNewData: {
                    enabled: true
                }
            },
            xAxis: {
                type: 'category'
            },
            yAxis: {
                title: {
                    text: '민원 건수'
                }
            },
            legend: {
                enabled: false
            },
            plotOptions: {
                series: {
                    borderWidth: 0,
                    dataLabels: {
                        enabled: true,
                        format: '{point.y:.0f}'
                    }
                }
            },
            tooltip: {
                headerFormat: '<span style="font-size:11px">{series.name}</span><br>',
                pointFormat: '<span style="color:{point.color}">{point.name}</span>: <b>{point.y}</b><br/>'
            },
            series: [
                {
                    name: "자치구 - ",
                    colorByPoint: true,
                    data: [

                        {
                            name: "강서구",
                            y: 357,
                        },
                        {
                            name: "관악구",
                            y: 702,
                        },
                        {
                            name: "광진구",
                            y: 396,
                        },
                        {
                            name: "동대문구",
                            y: 353,
                        },
                        {
                            name: "마포구",
                            y: 1857,
                        },

                        {
                            name: "서초구",
                            y: 1120,
                        },
                        {
                            name: "성동구",
                            y: 663,
                        },
                        {
                            name: "성북구",
                            y: 464,
                        },
                        {
                            name: "송파구",
                            y:2241,
                        },
                        {
                            name: "양천구",
                            y: 291,
                        },
                        {
                            name: "영등포구",
                            y: 987,
                        },
                         {
                            name: "중랑구",
                            y: 470,
                        },
                    ]
                }
            ],
        });
  </script>
</div>
{% endblock %}